<!DOCTYPE html>
<html>
<head>
    <title>Corbel Design - Nabin Kumar Ijam</title>
    <!-- Import Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <!-- Import Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* General Styles */
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.6;
            /* Dynamic Gradient Background */
            background: linear-gradient(270deg, #0078d7, #00bcd4, #4caf50, #ffeb3b);
            background-size: 400% 400%;
            animation: GradientBackground 15s ease infinite;
        }

        @keyframes GradientBackground {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        * {
            box-sizing: border-box; /* Normalize box model */
            margin: 0;
            padding: 0;
        }

        h2, h3, h4, h5, h6 {
            font-family: 'Roboto', sans-serif; /* Heading font */
            color: black;
        }

        /* Header Styles */
        header {
            background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent background */
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        /* Navigation Bar */
        nav {
            background-color: rgba(51, 51, 51, 0.8); /* Semi-transparent background */
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 5px;
            font-size: 1rem;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav a:hover {
            background-color: #0078d7;
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #333;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }

        .dropdown-content a:hover {
            background-color: #0078d7;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Main Content */
        .content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .inputs {
            flex: 1;
            margin-right: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .input-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            padding: 10px 20px;
            background-color: #0078d7;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        button:hover {
            background-color: #0056b3;
        }

        .image-container {
            position: relative;
            flex: 1;
        }

        .image-container img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .dimension {
            position: absolute;
            font-size: 0.8rem;
            color: black;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 5px;
        }

        .rotated {
            transform: rotate(-90deg);
        }

        /* Result Display */
        .result {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .result h2 {
            margin-bottom: 10px;
        }

        .result p {
            margin: 5px 0;
        }

        /* Footer Styles */
        footer {
            background-color: rgba(224, 255, 255, 0.8);
            color: white;
            text-align: center;
            padding: 20px;
            box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
        }

        .social-links {
            margin-bottom: 10px;
        }

        .social-links a {
            color: #333;
            text-decoration: none;
            margin: 0 10px;
            font-size: 1.8rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: #0078d7;
        }

        .copyright {
            background-color: rgba(224, 255, 255, 0.8);
            padding: 5px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
        }

        .copyright p {
            margin: 0;
            font-size: 0.9rem;
            color: #333;
        }
    </style>
</head>
<body>
    <!-- Current Time and Date -->
    <div id="datetime"></div>

    <!-- Header -->
    <header>
        <h1>Mr. Nabin Kumar Ijam | Civil Engineer | Structural & Hydropower Specialist</h1>
    </header>

    <!-- Navigation Bar -->
    <nav>
        <a href="Home.html"><b>HOME</b></a>
        <div class="dropdown">
            <a href="javascript:void(0)" class="dropbtn"><b>ABOUT</b></a>
            <div class="dropdown-content">
                <a href="Information.html">MY INFORMATION</a>
                <a href="My background.html">MY BACKGROUND</a>
                <a href="My works.html">MY WORKS</a>
            </div>
        </div>
        <div class="dropdown">
            <a href="javascript:void(0)" class="dropbtn"><b>ENGINEERING NOTES</b></a>
            <div class="dropdown-content">
                <a href="Civil Engineering Notes.html">CIVIL ENGINEERING NOTES</a>
                <a href="Others.html">OTHER CALCULATION</a>
            </div>
        </div>
        <a href="Downloads.html"><b>DOWNLOADS</b></a>
        <a href="images.html"><b>IMAGES</b></a>
        <a href="Contacts.html"><b>CONTACTS</b></a>
    </nav>

    <!-- Main Content -->
    <div class="content">
        <!-- Inputs on the left -->
        <div class="inputs">
            <h2><b><u>CORBEL DESIGN</u></b></h2>
            <div class="input-group">
                <label for="fck">Concrete grade, fck (N/mm<sup>2</sup>):</label>
                <input type="number" id="fck">
            </div>
            <div class="input-group">
                <label for="fy">Steel grade, fy (N/mm<sup>2</sup>):</label>
                <input type="number" id="fy">
            </div>
            <div class="input-group">
                <label for="c">Effective cover, c (mm):</label>
                <input type="number" id="c">
            </div>
            <div class="input-group">
                <label for="a">Distance from column, a (mm):</label>
                <input type="number" id="a">
            </div>
            <div class="input-group">
                <label for="V">Load at corbel, V (kN):</label>
                <input type="number" id="V">
            </div>
            <div class="input-group">
                <label for="d">Depth of corbel, d (mm):</label>
                <input type="number" id="d">
            </div>
            <div class="input-group">
                <label for="D">Overall depth, D (mm):</label>
                <input type="number" id="D">
            </div>
            <div class="input-group">
                <label for="b">Column width, b (mm):</label>
                <input type="number" id="b">
            </div>
            <div class="input-group">
                <label for="Phit">Diameter of tension reinforcement, φt (mm):</label>
                <input type="number" id="Phit">
            </div>
            <div class="input-group">
                <label for="Phic">Diameter of compression reinforcement, φc (mm):</label>
                <input type="number" id="Phic">
            </div>
            <button onclick="Design()">Design</button>
        </div>

        <!-- Image on the right -->
        <div class="image-container">
            <img src="corbel_drawing.png" alt="Corbel Drawing">
            <div id="a-label" class="dimension" style="top: 80px; left: 180px;"></div>
            <div id="V-label" class="dimension" style="top: 30px; left: 250px;"></div>
            <div id="d-label" class="dimension rotated" style="top: 150px; left:300px;"></div>
            <div id="D-label" class="dimension rotated" style="top: 250px; left: 400px;"></div>
        </div>
    </div>

    <!-- Result Display -->
    <div class="result">
        <h2><u>DESIGN RESULTS</u></h2>
        <p><u>DESIGN OF MAIN REINFORCEMENT</u></p>
        <p>Compressive force, Fc: <span id="Fc"></span> kN</p>
        <p>Tensile force, Ft: <span id="Ft"></span> kN</p>
        <p>Area of tensile reinforcement (Ast): <span id="Ast"></span> mm²</p>
        <p>Number of tensile reinforcement (nt): <span id="nt"></span></p>
        <p>Area of compression reinforcement (Asc): <span id="Asc"></span> mm²</p>
        <p>Number of compression reinforcement (nc): <span id="nc"></span></p>
        <p><u>CHECK FOR SHEAR CAPACITY</u></p>
        <p>Shear capacity of corbel: <span id="scc"></span> kN</p>
        <p>Check for Shear capacity of corbel: <span id="check"></span></p>
    </div>

    <!-- Footer -->
    <footer>
        <div class="social-links">
            <a href="https://www.facebook.com/nabin.ijam" target="_blank" aria-label="Facebook">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://www.linkedin.com/in/nabin-kumar-ijam-34a23b52/" target="_blank" aria-label="LinkedIn">
                <i class="fab fa-linkedin"></i>
            </a>
        </div>
        <div class="copyright">
            <p><i>&copy; <span id="year"></span> Nabin Kumar Ijam. All rights reserved.</i></p>
        </div>
    </footer>

    <script>
        // Modulus of elasticity for steel
        const Es = 2e5; // in MPa

        function Design() {
            const fck = parseFloat(document.getElementById('fck').value) || 0;
            const fy = parseFloat(document.getElementById('fy').value) || 0;
            const c = parseFloat(document.getElementById('c').value) || 0;
            const a = parseFloat(document.getElementById('a').value) || 0;
            const V = parseFloat(document.getElementById('V').value) || 0;
            const d = parseFloat(document.getElementById('d').value) || 0;
            const D = parseFloat(document.getElementById('D').value) || 0;
            const b = parseFloat(document.getElementById('b').value) || 0;
            const Phit = parseFloat(document.getElementById('Phit').value) || 0;
            const Phic = parseFloat(document.getElementById('Phic').value) || 0;

            // Update dimension labels
            document.getElementById('a-label').textContent = `a = ${a}mm`;
            document.getElementById('V-label').textContent = `V = ${V}kN`;
            document.getElementById('d-label').textContent = `d = ${d}mm`;
            document.getElementById('D-label').textContent = `D = ${D}mm`;

            // Input validation
            if (fck <= 0 || fy <= 0 || c <= 0 || a <= 0 || V <= 0 || d <= 0 || D <= 0 || b <= 0 || Phit <= 0 || Phic <= 0) {
                alert("All input values must be positive numbers.");
                return;
            }

            let vc;
            if (fck == 15) vc = 2.5;
            else if (fck == 20) vc = 2.8;
            else if (fck == 25) vc = 3.1;
            else if (fck == 30) vc = 3.5;
            else if (fck == 35) vc = 3.7;
            else vc = 4.0;

            // Calculation
            const de1 = V * 1000 / (vc * b);
            const DT = de1 + c;
            const de = DT > D ? DT - c : D - c;
            const k = V * 1000 / (0.88 * fck * b * de);
            const r = a / de;
            const z = ((r / (r + k)) + Math.sqrt(Math.pow(r / (r + k), 2) - 4 * (k / (r + k)) * Math.pow(r, 2))) / 2 * de;
            const x = (de - z) / 0.45;
            const strain = 0.0035 * (de - x) / x;

            // Calculate stress based on fy and strain
            const stress = getStress(fy, strain);

            // Separate calculations for Fc and Ft
            const Fc = V * Math.sqrt(Math.pow(a, 2) + Math.pow(z, 2)) / z; // Compressive force
            const Ft = (V * a) / z; // Tensile force

            const Ast = Math.max(Ft * 1000 / stress, 0.4 / 100 * b * de);
            const Ast1 = 3.1416 * Math.pow(Phit, 2) / 4; // Area of one tension bar
            const nt = Math.ceil(Ast / Ast1); // Number of tension bars
            const Asc = Ast / 2; // Area of compression reinforcement
            const Asc1 = 3.1416 * Math.pow(Phic, 2) / 4; // Area of one compression bar
            const nc = Math.ceil(Asc / Asc1); // Number of compression bars

            const beta = Math.max(0.8 * fck / (6.89 * (Ast / (b * de))), 1);
            const tau_c = 0.85 * Math.sqrt(0.8 * fck) * (Math.sqrt(1 + 5 * beta) - 1) / (6 * beta); // Shear stress
            const taum = tau_c * (2 * de / a);
            const sc = taum * b * de / 1000; // Shear capacity from concrete
            const ss = 0.87 * fy * nc * Asc1 * 2 / 1000; // Shear capacity from steel
            const scc = sc + ss; // Total shear capacity

            let check;
            if (scc > Fc) {
                check = "OK";
            } else {
                check = "NOT OK";
            }

            // Display results
            document.getElementById('Fc').textContent = Fc.toFixed(2);
            document.getElementById('Ft').textContent = Ft.toFixed(2);
            document.getElementById('Ast').textContent = Ast.toFixed(2);
            document.getElementById('nt').textContent = nt.toFixed(0);
            document.getElementById('Asc').textContent = Asc.toFixed(2);
            document.getElementById('nc').textContent = nc.toFixed(0);
            document.getElementById('scc').textContent = scc.toFixed(0);
            document.getElementById('check').textContent = check;
        }

        function getStress(fy, strain) {
            let stress;

            if (fy === 250) {
                if (strain <= 0.00109) {
                    stress = strain * Es; // Linear elastic region
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else if (fy === 415) {
                if (strain < 0.00144) {
                    stress = strain * Es; // Linear elastic region
                } else if (strain <= 0.0038) {
                    stress = interpolateStress(fy, strain); // Interpolate for intermediate strains
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else if (fy === 500) {
                if (strain < 0.00174) {
                    stress = strain * Es; // Linear elastic region
                } else if (strain <= 0.00417) {
                    stress = interpolateStress(fy, strain); // Interpolate for intermediate strains
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else {
                throw new Error("Unsupported fy value");
            }

            return stress;
        }

        function interpolateStress(fy, strain) {
            const table = {
                415: [
                    { strain: 0.00144, stress: 288.7 }, { strain: 0.00163, stress: 306.7 },
                    { strain: 0.00192, stress: 324.8 }, { strain: 0.00241, stress: 342.8 },
                    { strain: 0.00276, stress: 351.8 }, { strain: 0.00380, stress: 360.9 }
                ],
                500: [
                    { strain: 0.00174, stress: 347.8 }, { strain: 0.00195, stress: 369.6 },
                    { strain: 0.00226, stress: 391.3 }, { strain: 0.00277, stress: 413 },
                    { strain: 0.00312, stress: 423.9 }, { strain: 0.00417, stress: 434.8 }
                ]
            };

            if (!table[fy]) {
                throw new Error("Unsupported fy value");
            }

            const data = table[fy];

            // Find two closest points for interpolation
            let s1, s2;
            for (let i = 0; i < data.length - 1; i++) {
                if (strain >= data[i].strain && strain <= data[i + 1].strain) {
                    s1 = data[i];
                    s2 = data[i + 1];
                    break;
                }
            }

            if (!s1 || !s2) {
                return 0.87 * fy; // If out of range, return max stress
            }

            return s1.stress + ((strain - s1.strain) / (s2.strain - s1.strain)) * (s2.stress - s1.stress);
        }

        // Update Time
        function updateTime() {
            const now = new Date();
            const datetimeElement = document.getElementById('datetime');
            datetimeElement.textContent = now.toLocaleString();
        }
        setInterval(updateTime, 1000);
        updateTime(); // Initial call

        // Update Copyright Year
        document.getElementById('year').innerText = new Date().getFullYear();
    </script>
</body>
</html>
