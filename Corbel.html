<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Mr. Nabin Kumar Ijam's professional portfolio as a Civil Engineer specializing in Structural and Hydropower projects.">
    <title>CORBEL</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #0078d7;
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        header h1 {
            margin: 0;
            font-size: 1.3rem;
        }

        #datetime {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 0.9rem;
            color: white;
            font-weight: bold;
        }

        nav {
            background-color: #333;
            padding: 10px;
            text-align: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 5px;
            font-size: 1rem;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav a:hover, nav a.active {
            background-color: #0078d7;
        }

        /* Main Content */
        .content {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex: 1;
            display: flex;
            gap: 20px;
        }

        .inputs {
            flex: 1;
        }

        .image-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-container img {
            max-width: 100%;
            height: auto;
        }

        h2 {
            color: #0078d7;
            font-size: 1.2rem;
            text-align: left;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.8rem;
        }

        .input-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.9rem;
        }

        button {
            padding: 10px 20px;
            background-color: #0078d7;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        button:hover {
            background-color: #005bb5;
        }

        .result {
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-family: 'Open Sans', sans-serif; /* Ensure Open Sans is applied */
            font-size: 0.9rems;
        }

        .result p {
            font-family: 'Open Sans', sans-serif; /* Ensure Open Sans is applied to paragraphs */
            font-size: 0.9rems;
        }

        footer {
            background-color: #E0FFFF;
            color: #333;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: auto;
            box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
        }

        .social-links {
            margin-bottom: 10px;
        }

        .social-links a {
            color: #333;
            margin: 0 10px;
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: #0078d7;
        }

        .copyright {
            padding: 5px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
        }

        .copyright p {
            margin: 0;
            font-size: 0.7rem;
        }

        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }

            nav a {
                display: block;
                margin: 5px 0;
            }

            #datetime {
                position: static;
                text-align: center;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Mr. Nabin Kumar Ijam | Civil Engineer | Structural & Hydropower Specialist</h1>
        <div id="datetime"></div>
    </header>

    <nav>
        <a href="Home.html"><b>HOME</b></a>
        <a href="My background.html"><b>MY BACKGROUND</b></a>
        <a href="Civil Engineering Notes.html"><b>CIVIL ENGINEERING NOTES</b></a>
        <a href="Others.html"><b>OTHERS</b></a>
        <a href="Downloads.html"><b>DOWNLOADS</b></a>
        <a href="images.html"><b>IMAGES</b></a>
        <a href="Contacts.html"><b>CONTACTS</b></a>
    </nav>

    <div class="content">
        <!-- Inputs on the left -->
        <div class="inputs">
            <h2><b><u>CORBEL DESIGN</u></b></h2>
            <div class="input-group">
                <label for="fck">Concrete grade, f<sub>ck</sub> (N/mm<sup>2</sup>):</label>
                <input type="number" id="fck">
            </div>
            <div class="input-group">
                <label for="fy">Steel grade, f<sub>y</sub> (N/mm<sup>2</sup>):</label>
                <input type="number" id="fy">
            </div>
            <div class="input-group">
                <label for="c">Effective cover, c (mm):</label>
                <input type="number" id="c">
            </div>
            <div class="input-group">
                <label for="a">Distance from column, a (mm):</label>
                <input type="number" id="a">
            </div>
            <div class="input-group">
                <label for="V">Load at corbel, V (kN):</label>
                <input type="number" id="V">
            </div>
            <div class="input-group">
                <label for="d">Depth of corbel, d (mm):</label>
                <input type="number" id="d">
            </div>
            <div class="input-group">
                <label for="D">Overall depth, D (mm):</label>
                <input type="number" id="D">
            </div>
            <div class="input-group">
                <label for="b">Column width, b (mm):</label>
                <input type="number" id="b">
            </div>
            <div class="input-group">
                <label for="Phit">Diameter of tension reinforcement, φt (mm):</label>
                <input type="number" id="Phit">
            </div>
            <div class="input-group">
                <label for="Phic">Diameter of compression reinforcement, φc (mm):</label>
                <input type="number" id="Phic">
            </div>
            <button onclick="Design()">Design</button>
        </div>

        <!-- Image on the right -->
        <div class="image-container">
            <img src="corbel_drawing.png" alt="Corbel Drawing">
        </div>
    </div>

    <!-- Result Display -->
    <div class="result">
        <h2><U>DESIGN RESULTS</U></h2>
        <p><u>DESIGN OF MAIN REINFORCEMENT</u></p>
        <p>Compressive force, Fc: <span id="Fc"></span> kN</p>
        <p>Tensile force, Ft: <span id="Ft"></span> kN</p>
        <p>Area of tensile reinforcement (Ast): <span id="Ast"></span> mm²</p>
        <p>Number of tensile reinforcement (nt): <span id="nt"></span></p>
        <p>Area of compression reinforcement (Asc): <span id="Asc"></span> mm²</p>
        <p>Number of compression reinforcement (nc): <span id="nc"></span></p>
        <p><u>CHECK FOR SHEAR CAPACITY</u></p>
        <p>Shear capacity of corbel: <span id="scc"></span> kN</p>
        <p>Check for Shear capacity of corbel: <span id="check"></span></p>
    </div>

    <!-- Footer -->
    <footer>
        <!-- Social Network Links -->
        <div class="social-links">
            <a href="https://www.facebook.com/nabin.ijam" target="_blank" aria-label="Facebook">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://www.linkedin.com/in/nabin-kumar-ijam-34a23b52/" target="_blank" aria-label="LinkedIn">
                <i class="fab fa-linkedin"></i>
            </a>
        </div>

        <!-- Copyright -->
        <div class="copyright">
            <p><i>&copy; <span id="year"></span> Nabin Kumar Ijam. All rights reserved.</i></p>
        </div>
    </footer>

    <script>
        // Modulus of elasticity for steel
        const Es = 2e5; // in MPa

        function Design() {
            const fck = parseFloat(document.getElementById('fck').value) || 0;
            const fy = parseFloat(document.getElementById('fy').value) || 0;
            const c = parseFloat(document.getElementById('c').value) || 0;
            const a = parseFloat(document.getElementById('a').value) || 0;
            const V = parseFloat(document.getElementById('V').value) || 0;
            const d = parseFloat(document.getElementById('d').value) || 0;
            const D = parseFloat(document.getElementById('D').value) || 0;
            const b = parseFloat(document.getElementById('b').value) || 0;
            const Phit = parseFloat(document.getElementById('Phit').value) || 0;
            const Phic = parseFloat(document.getElementById('Phic').value) || 0;

            // Input validation
            if (fck <= 0 || fy <= 0 || c <= 0 || a <= 0 || V <= 0 || d <= 0 || D <= 0 || b <= 0 || Phit <= 0 || Phic <= 0) {
                alert("All input values must be positive numbers.");
                return;
            }

            let vc;
            if (fck == 15) vc = 2.5;
            else if (fck == 20) vc = 2.8;
            else if (fck == 25) vc = 3.1;
            else if (fck == 30) vc = 3.5;
            else if (fck == 35) vc = 3.7;
            else vc = 4.0;

            // Calculation
            const de1 = V * 1000 / (vc * b);
            const DT = de1 + c;
            const de = DT > D ? DT - c : D - c;
            const k = V * 1000 / (0.88 * fck * b * de);
            const r = a / de;
            const z = ((r / (r + k)) + Math.sqrt(Math.pow(r / (r + k), 2) - 4 * (k / (r + k)) * Math.pow(r, 2))) / 2 * de;
            const x = (de - z) / 0.45;
            const strain = 0.0035 * (de - x) / x;

            // Calculate stress based on fy and strain
            const stress = getStress(fy, strain);

            // Separate calculations for Fc and Ft
            const Fc = V * Math.sqrt(Math.pow(a, 2) + Math.pow(z, 2)) / z; // Compressive force
            const Ft = (V * a) / z; // Tensile force

            const Ast = Math.max(Ft * 1000 / stress, 0.4 / 100 * b * de);
            const Ast1 = 3.1416 * Math.pow(Phit, 2) / 4; // Area of one tension bar
            const nt = Math.ceil(Ast / Ast1); // Number of tension bars
            const Asc = Ast / 2; // Area of compression reinforcement
            const Asc1 = 3.1416 * Math.pow(Phic, 2) / 4; // Area of one compression bar
            const nc = Math.ceil(Asc / Asc1); // Number of compression bars

            const beta = Math.max(0.8 * fck / (6.89 * (Ast / (b * de)) * 100), 1);
            const tau_c = 0.85 * Math.sqrt(0.8 * fck) * (Math.sqrt(1 + 5 * beta) - 1) / (6 * beta); // Shear stress
            const taum = tau_c * (2 * de / a);
            const sc = taum * b * de / 1000; // Shear capacity from concrete
            const ss = 0.87 * fy * nc * Asc1 * 2 / 1000; // Shear capacity from steel
            const scc = sc + ss; // Total shear capacity

            let check;
            if (scc > Fc) {
                check = "OK";
            } else {
                check = "NOT OK";
            }

            // Display results
            document.getElementById('Fc').textContent = Fc.toFixed(2);
            document.getElementById('Ft').textContent = Ft.toFixed(2);
            document.getElementById('Ast').textContent = Ast.toFixed(2);
            document.getElementById('nt').textContent = nt.toFixed(0);
            document.getElementById('Asc').textContent = Asc.toFixed(2);
            document.getElementById('nc').textContent = nc.toFixed(0);
            document.getElementById('scc').textContent = scc.toFixed(0);
            document.getElementById('check').textContent = check;
        }

        function getStress(fy, strain) {
            let stress;

            if (fy === 250) {
                if (strain <= 0.00109) {
                    stress = strain * Es; // Linear elastic region
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else if (fy === 415) {
                if (strain < 0.00144) {
                    stress = strain * Es; // Linear elastic region
                } else if (strain <= 0.0038) {
                    stress = interpolateStress(fy, strain); // Interpolate for intermediate strains
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else if (fy === 500) {
                if (strain < 0.00174) {
                    stress = strain * Es; // Linear elastic region
                } else if (strain <= 0.00417) {
                    stress = interpolateStress(fy, strain); // Interpolate for intermediate strains
                } else {
                    stress = 0.87 * fy; // Maximum stress
                }
            } else {
                throw new Error("Unsupported fy value");
            }

            return stress;
        }

        function interpolateStress(fy, strain) {
            const table = {
                415: [
                    { strain: 0.00144, stress: 288.7 }, { strain: 0.00163, stress: 306.7 },
                    { strain: 0.00192, stress: 324.8 }, { strain: 0.00241, stress: 342.8 },
                    { strain: 0.00276, stress: 351.8 }, { strain: 0.00380, stress: 360.9 }
                ],
                500: [
                    { strain: 0.00174, stress: 347.8 }, { strain: 0.00195, stress: 369.6 },
                    { strain: 0.00226, stress: 391.3 }, { strain: 0.00277, stress: 413 },
                    { strain: 0.00312, stress: 423.9 }, { strain: 0.00417, stress: 434.8 }
                ]
            };

            if (!table[fy]) {
                throw new Error("Unsupported fy value");
            }

            const data = table[fy];

            // Find two closest points for interpolation
            let s1, s2;
            for (let i = 0; i < data.length - 1; i++) {
                if (strain >= data[i].strain && strain <= data[i + 1].strain) {
                    s1 = data[i];
                    s2 = data[i + 1];
                    break;
                }
            }

            if (!s1 || !s2) {
                return 0.87 * fy; // If out of range, return max stress
            }

            return s1.stress + ((strain - s1.strain) / (s2.strain - s1.strain)) * (s2.stress - s1.stress);
        }

        // Update Time
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById("datetime").innerText = `${hours}:${minutes}:${seconds}`;
        }
        setInterval(updateTime, 1000);
        updateTime(); // Initial call

        // Update Copyright Year
        document.getElementById('year').innerText = new Date().getFullYear();
    </script>
</body>
</html>
